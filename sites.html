<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sites & Projects</title>
    <link rel="icon" type="image/x-icon" href="/logo.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>

</head>

<body>
    <main id="screen">
        <div id="links">
            <a class="link back" href="/">BACK TO HOME</a>
            <br>
        </div>
    </main>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const iconElement = document.getElementById('theme-icon');
            const rootElement = document.documentElement;

            iconElement.textContent = 'dark';
            
        });

        document.addEventListener("DOMContentLoaded", () => {
            const links = document.querySelectorAll(".link");
            let currentIndex = -1;

            function updateHoverEffect() {
                links.forEach((link, index) => {
                    if (index === currentIndex) {
                        link.classList.add("active");
                    } else {
                        link.classList.remove("active");
                    }
                });
            }

            document.addEventListener("keydown", (event) => {
                if (event.key === "ArrowDown" || event.key.toLowerCase() === "s") {
                    currentIndex = (currentIndex + 1) % links.length;
                    updateHoverEffect();
                    event.preventDefault();
                } else if (event.key === "ArrowUp" || event.key.toLowerCase() === "w") {
                    currentIndex = (currentIndex - 1 + links.length) % links.length;
                    updateHoverEffect();
                    event.preventDefault();
                } else if (event.key === "Enter" && currentIndex >= 0) {
                    links[currentIndex].click();
                }
            });
        });
        fetch("https://api.github.com/users/redpro0701/repos")
            .then(response => response.json())
            .then(repos => {
                const linksContainer = document.getElementById("links");
                repos
                    .filter(repo => !repo.name.toLowerCase().startsWith("redpro0701".toLowerCase()))
                    .forEach(repo => {
                        const a = document.createElement("a");
                        a.className = "link";
                        a.href = repo.html_url;
                        a.target = "_blank";
                        a.textContent = repo.name;
                        linksContainer.appendChild(a);
                    });
            })
            .catch(error => console.error("Error fetching repos:", error));


    </script>
</body>

</html>
